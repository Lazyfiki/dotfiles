#!/usr/bin/env bash

wall_dir=~/pix/wall/

if [ -z "$1" ]; then
  wall="$(find "$wall_dir" -type f | shuf -n1)"
else
  wall="$1"
fi

magick "$wall" ~/.local/share/bg.jpg
swww img ~/.local/share/bg.jpg --transition-duration 1 -t wave
wal -c
wal -n -i ~/.local/share/bg.jpg
pkill waybar; hyprctl dispatch exec waybar
pkill swaync; hyprctl dispatch exec swaync
hyprctl dispatch exec reload-nvim
