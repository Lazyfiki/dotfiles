#!/usr/bin/env bash

wall_dir=~/pix/wall/

if [ -z "$1" ]; then
  wall="$(find "$wall_dir" -type f | shuf -n1)"
else
  wall="$1"
fi

magick "$wall" ~/.local/share/bg.jpg
swww img ~/.local/share/bg.jpg --transition-duration 1 -t wave
wal -c
wal --cols16 lighten --saturate 0.1 -ni ~/.local/share/bg.jpg
pkill -SIGUSR2 ghostty
pkill -SIGUSR2 nautilus
pkill -SIGUSR2 waybar
hyprctl dispatch exec "QT_SCALE_FACTOR=1.5 vicinae server --replace"
swaync-client --reload-css
hyprctl dispatch exec reload-nvim
